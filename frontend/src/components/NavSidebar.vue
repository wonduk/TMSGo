<template>
  <nav class="nav-sidebar">
    <!-- ê¸°ë³¸ ë©”ë‰´ -->
    <router-link to="/" class="menu-item">ğŸ  í™ˆ</router-link>
    <router-link to="/about" class="menu-item">â„¹ï¸ ì†Œê°œ</router-link>
    <router-link to="/dashboard" class="menu-item">ğŸ“Š ëŒ€ì‹œë³´ë“œ</router-link>

    <!-- 2ëìŠ¤ ë©”ë‰´ -->
    <div class="menu-group">
      <button class="menu-item dropdown-btn" @click="toggleMenu('dispatch')">
        ğŸš› ìš´ì†¡ ê´€ë¦¬
        <span v-if="openMenu === 'dispatch'">â–²</span>
        <span v-else>â–¼</span>
      </button>
      <div v-if="openMenu === 'dispatch'" class="submenu">
        <router-link to="/dispatch/assign" class="submenu-item">ë°°ì •</router-link>
        <router-link to="/dispatch/route" class="submenu-item">ë°°ì°¨</router-link>
        <router-link to="/dispatch/monitoring" class="submenu-item">ëª¨ë‹ˆí„°ë§</router-link>
      </div>
    </div>
    <router-link to="/dispatch/customer-service" class="submenu-item">ê³ ê° ì„œë¹„ìŠ¤</router-link>
    <router-link to="/dispatch/billing" class="submenu-item">ì •ì‚°</router-link>
  </nav>
</template>

<script setup lang="ts">
import { ref } from "vue";

// í˜„ì¬ ì—´ë ¤ ìˆëŠ” ë©”ë‰´ ìƒíƒœ ê´€ë¦¬
const openMenu = ref<string | null>(null);

// ë©”ë‰´ ì—´ê³  ë‹«ëŠ” í•¨ìˆ˜
const toggleMenu = (menu: string) => {
  openMenu.value = openMenu.value === menu ? null : menu;
};
</script>